ui_out -until '{ "jsonrpc": "2.0", "method": "refresh", "params": [true] }'
ui_in '{ "jsonrpc": "2.0", "method": "keys", "params": [ ":" ] }'
ui_out '{ "jsonrpc": "2.0", "method": "draw_status", "params": [[{ "face": { "fg": "yellow", "bg": "default", "underline": "default", "attributes": [] }, "contents": ":" }], [{ "face": { "fg": "blue", "bg": "default", "underline": "default", "attributes": [] }, "contents": "" }, { "face": { "fg": "black", "bg": "cyan", "underline": "default", "attributes": [] }, "contents": " " }], 0, [{ "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": "out 1:1 " }, { "face": { "fg": "black", "bg": "yellow", "underline": "default", "attributes": [] }, "contents": "" }, { "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": " " }, { "face": { "fg": "yellow", "bg": "default", "underline": "default", "attributes": [] }, "contents": "prompt" }, { "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": " - client0@[kak-tests]" }], { "fg": "cyan", "bg": "default", "underline": "default", "attributes": [] }] }'
ui_in '{ "jsonrpc": "2.0", "method": "keys", "params": [ "a<backspace>" ] }'
ui_out -ignore 2
ui_out '{ "jsonrpc": "2.0", "method": "draw_status", "params": [[{ "face": { "fg": "yellow", "bg": "default", "underline": "default", "attributes": [] }, "contents": ":" }], [{ "face": { "fg": "blue", "bg": "default", "underline": "default", "attributes": [] }, "contents": "" }, { "face": { "fg": "black", "bg": "cyan", "underline": "default", "attributes": [] }, "contents": " " }], 0, [{ "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": "out 1:1 " }, { "face": { "fg": "black", "bg": "yellow", "underline": "default", "attributes": [] }, "contents": "" }, { "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": " " }, { "face": { "fg": "yellow", "bg": "default", "underline": "default", "attributes": [] }, "contents": "prompt" }, { "face": { "fg": "default", "bg": "default", "underline": "default", "attributes": [] }, "contents": " - client0@[kak-tests]" }], { "fg": "cyan", "bg": "default", "underline": "default", "attributes": [] }] }'
ui_out -ignore 3
# Error face redraw was happening here
ui_out '{ "jsonrpc": "2.0", "method": "set_cursor", "params": ["prompt", { "line": 0, "column": 1 }] }'
